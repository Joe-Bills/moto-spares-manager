# Moto Spares Manager

A comprehensive motorcycle spare parts management system built with Django REST API and React frontend.

## Features

- **Product Management**: Add, edit, and track motorcycle spare parts
- **Sales Management**: Record and track sales transactions
- **Inventory Tracking**: Monitor stock levels and low-stock alerts
- **Expense Management**: Track business expenses
- **Reports & Analytics**: Generate sales reports and analytics
- **User Authentication**: Secure user login and registration
- **Audit Logging**: Track all system changes

## Tech Stack

### Backend
- Django 5.2.4
- Django REST Framework
- SQLite (development) / PostgreSQL (production)
- JWT Authentication
- CORS support

### Frontend
- React 19.1.0
- Vite
- React Router
- Chart.js for analytics
- React Icons

## Quick Start

### Prerequisites
- Python 3.11+
- Node.js 18+
- Git

### Local Development

1. **Clone the repository**
   ```bash
   git clone <your-repo-url>
   cd moto_spares_manager
   ```

2. **Backend Setup**
   ```bash
   # Create virtual environment
   python -m venv venv
   
   # Activate virtual environment
   # Windows:
   venv\Scripts\activate
   # macOS/Linux:
   source venv/bin/activate
   
   # Install dependencies
   pip install -r requirements.txt
   
   # Run migrations
   python manage.py migrate
   
   # Create superuser
   python manage.py createsuperuser
   
   # Start backend server
   python manage.py runserver
   ```

3. **Frontend Setup**
   ```bash
   cd frontend
   
   # Install dependencies
   npm install
   
   # Start development server
   npm run dev
   ```

4. **Access the application**
   - Backend API: http://localhost:8000
   - Frontend: http://localhost:3000
   - Admin Panel: http://localhost:8000/admin

## Deployment Options

### Option 1: Railway (Recommended)

Railway is a modern platform that makes deployment simple:

1. **Prepare your repository**
   - Push your code to GitHub
   - Ensure all files are committed

2. **Deploy to Railway**
   - Go to [Railway.app](https://railway.app)
   - Sign up with GitHub
   - Click "New Project" â†’ "Deploy from GitHub repo"
   - Select your repository
   - Railway will automatically detect Django and deploy

3. **Configure environment variables**
   In Railway dashboard, add these environment variables:
   ```
   DEBUG=False
   SECRET_KEY=your-secret-key-here
   DATABASE_URL=postgresql://... (auto-generated by Railway)
   ALLOWED_HOSTS=your-app.railway.app
   CORS_ALLOWED_ORIGINS=https://your-app.railway.app
   ```

4. **Deploy frontend separately**
   - Create a new Railway project for frontend
   - Set build command: `npm run build`
   - Set start command: `npm run preview`

### Option 2: Heroku

1. **Install Heroku CLI**
   ```bash
   # Windows (using Chocolatey)
   choco install heroku-cli
   
   # Or download from https://devcenter.heroku.com/articles/heroku-cli
   ```

2. **Login and create app**
   ```bash
   heroku login
   heroku create your-app-name
   ```

3. **Configure environment variables**
   ```bash
   heroku config:set DEBUG=False
   heroku config:set SECRET_KEY=your-secret-key-here
   heroku config:set ALLOWED_HOSTS=your-app.herokuapp.com
   ```

4. **Deploy**
   ```bash
   git push heroku main
   heroku run python manage.py migrate
   heroku run python manage.py createsuperuser
   ```

### Option 3: Docker

1. **Build and run with Docker Compose**
   ```bash
   docker-compose up --build
   ```

2. **Access the application**
   - Backend: http://localhost:8000
   - Frontend: http://localhost:3000

### Option 4: VPS/Cloud Server

1. **Set up server** (Ubuntu 20.04+ recommended)
   ```bash
   # Update system
   sudo apt update && sudo apt upgrade -y
   
   # Install Python, Node.js, PostgreSQL, Nginx
   sudo apt install python3.11 python3.11-venv nodejs npm postgresql nginx
   
   # Install pip
   curl https://bootstrap.pypa.io/get-pip.py | python3.11
   ```

2. **Clone and setup project**
   ```bash
   git clone <your-repo-url>
   cd moto_spares_manager
   
   # Create virtual environment
   python3.11 -m venv venv
   source venv/bin/activate
   
   # Install dependencies
   pip install -r requirements.txt
   ```

3. **Configure PostgreSQL**
   ```bash
   sudo -u postgres psql
   CREATE DATABASE moto_spares_manager;
   CREATE USER moto_user WITH PASSWORD 'your_password';
   GRANT ALL PRIVILEGES ON DATABASE moto_spares_manager TO moto_user;
   \q
   ```

4. **Configure environment variables**
   ```bash
   # Create .env file
   nano .env
   ```
   Add:
   ```
   DEBUG=False
   SECRET_KEY=your-secret-key-here
   DATABASE_URL=postgresql://moto_user:your_password@localhost/moto_spares_manager
   ALLOWED_HOSTS=your-domain.com,www.your-domain.com
   CORS_ALLOWED_ORIGINS=https://your-domain.com
   ```

5. **Run migrations and collect static files**
   ```bash
   python manage.py migrate --settings=moto_spares_manager.settings_production
   python manage.py collectstatic --settings=moto_spares_manager.settings_production
   ```

6. **Configure Nginx**
   ```bash
   sudo nano /etc/nginx/sites-available/moto_spares_manager
   ```
   Add:
   ```nginx
   server {
       listen 80;
       server_name your-domain.com www.your-domain.com;
       
       location / {
           proxy_pass http://127.0.0.1:8000;
           proxy_set_header Host $host;
           proxy_set_header X-Real-IP $remote_addr;
       }
       
       location /static/ {
           alias /path/to/your/project/staticfiles/;
       }
       
       location /media/ {
           alias /path/to/your/project/media/;
       }
   }
   ```

7. **Enable site and restart services**
   ```bash
   sudo ln -s /etc/nginx/sites-available/moto_spares_manager /etc/nginx/sites-enabled/
   sudo nginx -t
   sudo systemctl restart nginx
   ```

8. **Run with Gunicorn**
   ```bash
   gunicorn --bind 0.0.0.0:8000 moto_spares_manager.wsgi:application
   ```

## Environment Variables

Create a `.env` file in the root directory with these variables:

```env
# Django Settings
DEBUG=True
SECRET_KEY=your-secret-key-here
ALLOWED_HOSTS=localhost,127.0.0.1

# Database
DATABASE_URL=sqlite:///db.sqlite3

# CORS
CORS_ALLOWED_ORIGINS=http://localhost:3000

# Email (Optional)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-app-password
DEFAULT_FROM_EMAIL=your-email@gmail.com
```

## API Endpoints

- `GET /api/products/` - List all products
- `POST /api/products/` - Create new product
- `GET /api/sales/` - List all sales
- `POST /api/sales/` - Create new sale
- `GET /api/expenses/` - List all expenses
- `POST /api/expenses/` - Create new expense
- `GET /api/reports/` - Generate reports

## Contributing

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add some amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

## License

This project is licensed under the MIT License - see the LICENSE file for details.

## Support

If you encounter any issues or have questions, please open an issue on GitHub.

## Screenshots

[Add screenshots of your application here]

## Roadmap

- [ ] Mobile app (React Native)
- [ ] Advanced reporting features
- [ ] Multi-location support
- [ ] Barcode scanning
- [ ] Supplier management
- [ ] Purchase orders
